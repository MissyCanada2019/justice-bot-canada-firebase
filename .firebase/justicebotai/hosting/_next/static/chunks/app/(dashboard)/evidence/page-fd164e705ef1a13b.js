(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{256:(e,a,s)=>{Promise.resolve().then(s.bind(s,3828))},3828:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var n=s(5155),t=s(2115),c=s(5731),i=s(4090);function l(){let[e,a]=(0,t.useState)(0),[s,l]=(0,t.useState)([]);async function o(){e&&l((await c.of.list(e)).docs)}async function d(){var a;let s=document.getElementById("file");if(!e||!(null==s||null==(a=s.files)?void 0:a[0]))return alert("Pick case + file");let n=s.files[0],t=await c.of.presign(e,n.name,n.type||"application/octet-stream");if(!(await fetch(t.upload_url,{method:"PUT",headers:t.headers,body:n})).ok)return alert("Upload failed");await o()}return(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsx)(i.w,{title:"Upload Evidence",children:(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("input",{className:"input mb-2",type:"number",placeholder:"Case ID",onChange:e=>a(Number(e.target.value))}),(0,n.jsx)("input",{id:"file",type:"file",className:"mb-2"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{className:"btn",onClick:d,children:"Upload"}),(0,n.jsx)("button",{className:"btn",onClick:o,children:"Refresh List"})]})]}),(0,n.jsx)("div",{className:"card",children:0===s.length?(0,n.jsx)("div",{children:"No files yet."}):(0,n.jsx)("ul",{className:"space-y-2",children:s.map(e=>(0,n.jsxs)("li",{className:"card",children:[(0,n.jsx)("b",{children:e.filename}),(0,n.jsx)("div",{className:"opacity-70 text-xs",children:e.type||""})]},e.id))})})]})})})}},4090:(e,a,s)=>{"use strict";s.d(a,{w:()=>t});var n=s(5155);function t(e){let{title:a,children:s}=e;return(0,n.jsxs)("section",{className:"card mb-5",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-3",children:a}),s]})}},5731:(e,a,s)=>{"use strict";s.d(a,{WQ:()=>t,of:()=>n});let n={list:async e=>(console.log("Fetching evidence for case ".concat(e)),{docs:[{id:1,filename:"evidence1.pdf",type:"application/pdf"},{id:2,filename:"photo.jpg",type:"image/jpeg"}]}),presign:async(e,a,s)=>(console.log("Getting presigned URL for ".concat(a," in case ").concat(e)),{upload_url:"https://storage.googleapis.com/your-bucket/evidence/".concat(e,"/").concat(a),headers:{"Content-Type":s}})},t={recommend:async e=>(console.log("Getting form recommendation for issue: ".concat(e)),{recommended:"Form T2",prefill:{tenant_name:"John Doe",landlord_name:"Jane Smith"}})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(256)),_N_E=e.O()}]);